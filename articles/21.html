<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>2022-09-14</title><meta name="next-head-count" content="3"/><link rel="preload" href="/diary/_next/static/css/4203b26684364480.css" as="style"/><link rel="stylesheet" href="/diary/_next/static/css/4203b26684364480.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/diary/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/diary/_next/static/chunks/webpack-a0346b42ec1bc80d.js" defer=""></script><script src="/diary/_next/static/chunks/framework-1f10003e17636e37.js" defer=""></script><script src="/diary/_next/static/chunks/main-a03413948affdc5e.js" defer=""></script><script src="/diary/_next/static/chunks/pages/_app-7b8fde1ad4d9bdf8.js" defer=""></script><script src="/diary/_next/static/chunks/582-d79da0492f1f9267.js" defer=""></script><script src="/diary/_next/static/chunks/pages/articles/%5BissueNumber%5D-1bcd5005fc9533d6.js" defer=""></script><script src="/diary/_next/static/2PXTznbFM03OHz9omYHi4/_buildManifest.js" defer=""></script><script src="/diary/_next/static/2PXTznbFM03OHz9omYHi4/_ssgManifest.js" defer=""></script><script src="/diary/_next/static/2PXTznbFM03OHz9omYHi4/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen bg-gray-50 dark:bg-gray-800 dark:text-gray-100"><header class="container mx-auto max-w-2xl px-8 py-12"><nav><p><a class="font-bold text-gray-900 visited:text-gray-900 dark:text-gray-300 dark:visited:text-gray-300" href="/diary">My blog</a></p></nav></header><main class="container mx-auto max-w-2xl px-8 py-12 shadow-md bg-white dark:bg-gray-900"><div class="divide-y divide-gray-300 dark:divide-gray-700"><article class="markdown"><header><time dateTime="2022-09-14T04:04:56Z" title="2022-09-14T04:04:56Z" class="block text-[.8rem] text-gray-500 dark:text-gray-400">2022-09-14</time><h1>2022-09-14</h1></header><aside class="block text-[.8rem] text-gray-500 dark:text-gray-400"><p>Posted by <!-- --><a href="https://github.com/youliangdao">youliangdao</a> at <!-- --><a href="https://github.com/youliangdao/diary/issues/21">#21</a>.<!-- --></p></aside><div></div></article><article class="markdown"><div><h3>関数型プログラミング</h3>
<ul>
<li>従来の手続き的な処理をできるだけ減らして
<ul>
<li>可読性↑</li>
<li>再利用性・拡張性↑</li>
<li>テストしやすい</li>
<li>モジュール化↑（疎結合）</li>
</ul>
</li>
<li>を目標に行われるプログラミング手法</li>
<li>ReactはReact Hooksの導入により関数型プログラミングの思想を強く受けるようになった</li>
<li>例えば関数コンポーネントはpropsを引数として受け取り、JSXを返す純粋関数として定義されている</li>
<li>あるいは各コンポーネントに紐づけられているstateは状態と処理を切り分けることにより、特に複雑な操作をすることなく、各コンポーネントの状態管理を綺麗に実現させている。</li>
<li>関数型プログラミングは上記の目標を達成するための概念として
<ul>
<li>状態と処理の分離</li>
<li>純粋関数
<ul>
<li>スコープ外の変数を参照しない</li>
<li>スコープ外に影響を及ぼす処理を行わない</li>
<li>immutabilityの保持</li>
</ul>
</li>
</ul>
</li>
<li>が存在している</li>
</ul></div></article><article class="markdown"><div><h2>Rails</h2>
<ul>
<li>PUTとPATCHの違い
<ul>
<li>PUT：全リソース置換（冪等性が期待されることを念頭に置いて処理を行うべき）</li>
<li>PATCH：一部リソース置換（冪等性ないメソッドとして処理される）</li>
<li>ただRailsの場合、一部カラムの変更でも自動的に更新されるカラムが存在しているためPUTは期待される動作をおこなえないことが多い（というかほとんど？）</li>
<li>なので基本的な更新処理についてはサーバー側でPATCHで受け付けるべき</li>
<li>ただこの辺はちゃんとしたAPI設計をやってみないとわからなさそう</li>
</ul>
</li>
<li>HTML5からaタグなどに特別なデータ属性を持たせられるようになった
<ul>
<li>これにより複雑なJS操作をクライアントサイドで実装することなく、ダイアログ表示などできるようになった</li>
</ul>
</li>
<li>save!とsave等の違い
<ul>
<li>save!：例外発生させ、強制終了。基本的に成功すること前提の操作で、万が一ミスった場合の保険みたいなイメージ</li>
<li>save：失敗したらboolean型の値を返す。エラーハンドリングできる</li>
</ul>
</li>
</ul></div></article><article class="markdown"><div><h2>Docker</h2>
<ul>
<li>Docker+Rails+MySQL8.0のローカル環境構築はたぶんうまくいった</li>
<li>rootユーザーじゃなくて一般ユーザーでの接続もいけたっぽいのでひとまずdone</li>
<li>あとは環境変数使ってパスワード等を隠蔽する必要があるのでその辺を導入したら終わりかな</li>
<li>それ終わったらnginx+puma構成をローカルで作っていきたい</li>
<li>先は長い。</li>
</ul></div></article></div></main><footer class="container mx-auto max-w-2xl px-8 py-12 text-sm"><nav><ul class="flex flex-row gap-6 justify-center"><li><a class="text-gray-900 visited:text-gray-900 dark:text-gray-300 dark:visited:text-gray-300" href="/diary">Home</a></li></ul></nav></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"issue":{"body":"","bodyHTML":"","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/youliangdao/diary/issues/21/comments","created_at":"2022-09-14T04:04:56Z","events_url":"https://api.github.com/repos/youliangdao/diary/issues/21/events","html_url":"https://github.com/youliangdao/diary/issues/21","id":1372297011,"labels":[],"labels_url":"https://api.github.com/repos/youliangdao/diary/issues/21/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOH2O6185Ry5cz","number":21,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/youliangdao/diary/issues/21/reactions"},"repository_url":"https://api.github.com/repos/youliangdao/diary","state":"open","state_reason":null,"timeline_url":"https://api.github.com/repos/youliangdao/diary/issues/21/timeline","title":"2022-09-14","updated_at":"2022-09-14T04:04:56Z","url":"https://api.github.com/repos/youliangdao/diary/issues/21","user":{"avatar_url":"https://avatars.githubusercontent.com/u/72332502?v=4","events_url":"https://api.github.com/users/youliangdao/events{/privacy}","followers_url":"https://api.github.com/users/youliangdao/followers","following_url":"https://api.github.com/users/youliangdao/following{/other_user}","gists_url":"https://api.github.com/users/youliangdao/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/youliangdao","id":72332502,"login":"youliangdao","node_id":"MDQ6VXNlcjcyMzMyNTAy","organizations_url":"https://api.github.com/users/youliangdao/orgs","received_events_url":"https://api.github.com/users/youliangdao/received_events","repos_url":"https://api.github.com/users/youliangdao/repos","site_admin":false,"starred_url":"https://api.github.com/users/youliangdao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/youliangdao/subscriptions","type":"User","url":"https://api.github.com/users/youliangdao"}},"issueComments":[{"body":"### 関数型プログラミング\n- 従来の手続き的な処理をできるだけ減らして\n  - 可読性↑\n  - 再利用性・拡張性↑\n  - テストしやすい\n  - モジュール化↑（疎結合）\n- を目標に行われるプログラミング手法\n- ReactはReact Hooksの導入により関数型プログラミングの思想を強く受けるようになった\n- 例えば関数コンポーネントはpropsを引数として受け取り、JSXを返す純粋関数として定義されている\n- あるいは各コンポーネントに紐づけられているstateは状態と処理を切り分けることにより、特に複雑な操作をすることなく、各コンポーネントの状態管理を綺麗に実現させている。\n- 関数型プログラミングは上記の目標を達成するための概念として\n  - 状態と処理の分離\n  - 純粋関数\n    - スコープ外の変数を参照しない\n    - スコープ外に影響を及ぼす処理を行わない\n    - immutabilityの保持\n- が存在している\n","bodyHTML":"\u003ch3\u003e関数型プログラミング\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e従来の手続き的な処理をできるだけ減らして\n\u003cul\u003e\n\u003cli\u003e可読性↑\u003c/li\u003e\n\u003cli\u003e再利用性・拡張性↑\u003c/li\u003e\n\u003cli\u003eテストしやすい\u003c/li\u003e\n\u003cli\u003eモジュール化↑（疎結合）\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eを目標に行われるプログラミング手法\u003c/li\u003e\n\u003cli\u003eReactはReact Hooksの導入により関数型プログラミングの思想を強く受けるようになった\u003c/li\u003e\n\u003cli\u003e例えば関数コンポーネントはpropsを引数として受け取り、JSXを返す純粋関数として定義されている\u003c/li\u003e\n\u003cli\u003eあるいは各コンポーネントに紐づけられているstateは状態と処理を切り分けることにより、特に複雑な操作をすることなく、各コンポーネントの状態管理を綺麗に実現させている。\u003c/li\u003e\n\u003cli\u003e関数型プログラミングは上記の目標を達成するための概念として\n\u003cul\u003e\n\u003cli\u003e状態と処理の分離\u003c/li\u003e\n\u003cli\u003e純粋関数\n\u003cul\u003e\n\u003cli\u003eスコープ外の変数を参照しない\u003c/li\u003e\n\u003cli\u003eスコープ外に影響を及ぼす処理を行わない\u003c/li\u003e\n\u003cli\u003eimmutabilityの保持\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eが存在している\u003c/li\u003e\n\u003c/ul\u003e","author_association":"OWNER","created_at":"2022-09-14T04:11:49Z","html_url":"https://github.com/youliangdao/diary/issues/21#issuecomment-1246207854","id":1246207854,"issue_url":"https://api.github.com/repos/youliangdao/diary/issues/21","node_id":"IC_kwDOH2O6185KR59u","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/youliangdao/diary/issues/comments/1246207854/reactions"},"updated_at":"2022-09-14T04:11:49Z","url":"https://api.github.com/repos/youliangdao/diary/issues/comments/1246207854","user":{"avatar_url":"https://avatars.githubusercontent.com/u/72332502?v=4","events_url":"https://api.github.com/users/youliangdao/events{/privacy}","followers_url":"https://api.github.com/users/youliangdao/followers","following_url":"https://api.github.com/users/youliangdao/following{/other_user}","gists_url":"https://api.github.com/users/youliangdao/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/youliangdao","id":72332502,"login":"youliangdao","node_id":"MDQ6VXNlcjcyMzMyNTAy","organizations_url":"https://api.github.com/users/youliangdao/orgs","received_events_url":"https://api.github.com/users/youliangdao/received_events","repos_url":"https://api.github.com/users/youliangdao/repos","site_admin":false,"starred_url":"https://api.github.com/users/youliangdao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/youliangdao/subscriptions","type":"User","url":"https://api.github.com/users/youliangdao"}},{"body":"## Rails\n- PUTとPATCHの違い\n  - PUT：全リソース置換（冪等性が期待されることを念頭に置いて処理を行うべき）\n  - PATCH：一部リソース置換（冪等性ないメソッドとして処理される）\n  - ただRailsの場合、一部カラムの変更でも自動的に更新されるカラムが存在しているためPUTは期待される動作をおこなえないことが多い（というかほとんど？）\n  - なので基本的な更新処理についてはサーバー側でPATCHで受け付けるべき\n  - ただこの辺はちゃんとしたAPI設計をやってみないとわからなさそう\n- HTML5からaタグなどに特別なデータ属性を持たせられるようになった\n  - これにより複雑なJS操作をクライアントサイドで実装することなく、ダイアログ表示などできるようになった\n- save!とsave等の違い\n  - save!：例外発生させ、強制終了。基本的に成功すること前提の操作で、万が一ミスった場合の保険みたいなイメージ\n  - save：失敗したらboolean型の値を返す。エラーハンドリングできる\n","bodyHTML":"\u003ch2\u003eRails\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003ePUTとPATCHの違い\n\u003cul\u003e\n\u003cli\u003ePUT：全リソース置換（冪等性が期待されることを念頭に置いて処理を行うべき）\u003c/li\u003e\n\u003cli\u003ePATCH：一部リソース置換（冪等性ないメソッドとして処理される）\u003c/li\u003e\n\u003cli\u003eただRailsの場合、一部カラムの変更でも自動的に更新されるカラムが存在しているためPUTは期待される動作をおこなえないことが多い（というかほとんど？）\u003c/li\u003e\n\u003cli\u003eなので基本的な更新処理についてはサーバー側でPATCHで受け付けるべき\u003c/li\u003e\n\u003cli\u003eただこの辺はちゃんとしたAPI設計をやってみないとわからなさそう\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eHTML5からaタグなどに特別なデータ属性を持たせられるようになった\n\u003cul\u003e\n\u003cli\u003eこれにより複雑なJS操作をクライアントサイドで実装することなく、ダイアログ表示などできるようになった\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003esave!とsave等の違い\n\u003cul\u003e\n\u003cli\u003esave!：例外発生させ、強制終了。基本的に成功すること前提の操作で、万が一ミスった場合の保険みたいなイメージ\u003c/li\u003e\n\u003cli\u003esave：失敗したらboolean型の値を返す。エラーハンドリングできる\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e","author_association":"OWNER","created_at":"2022-09-14T08:01:24Z","html_url":"https://github.com/youliangdao/diary/issues/21#issuecomment-1246391488","id":1246391488,"issue_url":"https://api.github.com/repos/youliangdao/diary/issues/21","node_id":"IC_kwDOH2O6185KSmzA","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/youliangdao/diary/issues/comments/1246391488/reactions"},"updated_at":"2022-09-14T08:01:24Z","url":"https://api.github.com/repos/youliangdao/diary/issues/comments/1246391488","user":{"avatar_url":"https://avatars.githubusercontent.com/u/72332502?v=4","events_url":"https://api.github.com/users/youliangdao/events{/privacy}","followers_url":"https://api.github.com/users/youliangdao/followers","following_url":"https://api.github.com/users/youliangdao/following{/other_user}","gists_url":"https://api.github.com/users/youliangdao/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/youliangdao","id":72332502,"login":"youliangdao","node_id":"MDQ6VXNlcjcyMzMyNTAy","organizations_url":"https://api.github.com/users/youliangdao/orgs","received_events_url":"https://api.github.com/users/youliangdao/received_events","repos_url":"https://api.github.com/users/youliangdao/repos","site_admin":false,"starred_url":"https://api.github.com/users/youliangdao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/youliangdao/subscriptions","type":"User","url":"https://api.github.com/users/youliangdao"}},{"body":"## Docker\n- Docker+Rails+MySQL8.0のローカル環境構築はたぶんうまくいった\n- rootユーザーじゃなくて一般ユーザーでの接続もいけたっぽいのでひとまずdone\n- あとは環境変数使ってパスワード等を隠蔽する必要があるのでその辺を導入したら終わりかな\n- それ終わったらnginx+puma構成をローカルで作っていきたい\n- 先は長い。\n","bodyHTML":"\u003ch2\u003eDocker\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eDocker+Rails+MySQL8.0のローカル環境構築はたぶんうまくいった\u003c/li\u003e\n\u003cli\u003erootユーザーじゃなくて一般ユーザーでの接続もいけたっぽいのでひとまずdone\u003c/li\u003e\n\u003cli\u003eあとは環境変数使ってパスワード等を隠蔽する必要があるのでその辺を導入したら終わりかな\u003c/li\u003e\n\u003cli\u003eそれ終わったらnginx+puma構成をローカルで作っていきたい\u003c/li\u003e\n\u003cli\u003e先は長い。\u003c/li\u003e\n\u003c/ul\u003e","author_association":"OWNER","created_at":"2022-09-14T12:43:25Z","html_url":"https://github.com/youliangdao/diary/issues/21#issuecomment-1246709738","id":1246709738,"issue_url":"https://api.github.com/repos/youliangdao/diary/issues/21","node_id":"IC_kwDOH2O6185KT0fq","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/youliangdao/diary/issues/comments/1246709738/reactions"},"updated_at":"2022-09-14T12:43:25Z","url":"https://api.github.com/repos/youliangdao/diary/issues/comments/1246709738","user":{"avatar_url":"https://avatars.githubusercontent.com/u/72332502?v=4","events_url":"https://api.github.com/users/youliangdao/events{/privacy}","followers_url":"https://api.github.com/users/youliangdao/followers","following_url":"https://api.github.com/users/youliangdao/following{/other_user}","gists_url":"https://api.github.com/users/youliangdao/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/youliangdao","id":72332502,"login":"youliangdao","node_id":"MDQ6VXNlcjcyMzMyNTAy","organizations_url":"https://api.github.com/users/youliangdao/orgs","received_events_url":"https://api.github.com/users/youliangdao/received_events","repos_url":"https://api.github.com/users/youliangdao/repos","site_admin":false,"starred_url":"https://api.github.com/users/youliangdao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/youliangdao/subscriptions","type":"User","url":"https://api.github.com/users/youliangdao"}}]},"__N_SSG":true},"page":"/articles/[issueNumber]","query":{"issueNumber":"21"},"buildId":"2PXTznbFM03OHz9omYHi4","assetPrefix":"/diary","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>