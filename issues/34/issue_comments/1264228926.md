---
author_association: OWNER
created_at: '2022-10-01T04:06:01Z'
html_url: https://github.com/youliangdao/diary/issues/34#issuecomment-1264228926
id: 1264228926
issue_url: https://api.github.com/repos/youliangdao/diary/issues/34
node_id: IC_kwDOH2O6185LWpo-
performed_via_github_app: 
reactions:
  "+1": 0
  "-1": 0
  confused: 0
  eyes: 0
  heart: 0
  hooray: 0
  laugh: 0
  rocket: 0
  total_count: 0
  url: https://api.github.com/repos/youliangdao/diary/issues/comments/1264228926/reactions
updated_at: '2022-10-01T04:06:01Z'
url: https://api.github.com/repos/youliangdao/diary/issues/comments/1264228926
user:
  avatar_url: https://avatars.githubusercontent.com/u/72332502?v=4
  events_url: https://api.github.com/users/youliangdao/events{/privacy}
  followers_url: https://api.github.com/users/youliangdao/followers
  following_url: https://api.github.com/users/youliangdao/following{/other_user}
  gists_url: https://api.github.com/users/youliangdao/gists{/gist_id}
  gravatar_id: ''
  html_url: https://github.com/youliangdao
  id: 72332502
  login: youliangdao
  node_id: MDQ6VXNlcjcyMzMyNTAy
  organizations_url: https://api.github.com/users/youliangdao/orgs
  received_events_url: https://api.github.com/users/youliangdao/received_events
  repos_url: https://api.github.com/users/youliangdao/repos
  site_admin: false
  starred_url: https://api.github.com/users/youliangdao/starred{/owner}{/repo}
  subscriptions_url: https://api.github.com/users/youliangdao/subscriptions
  type: User
  url: https://api.github.com/users/youliangdao

---
## REST APIサーバーとの連携
- axiosでリクエストを送受信する部分については、別のAPIフォルダを用意してそこにオブジェクト 形式で書いていく方がわかりやすい
- こんな感じ
```
import axios from "axios";

const ENDPOINT_URL = 'http://localhost:3003/todo';

const todoApi = {
  async getAll() {
    const result = await axios.get(ENDPOINT_URL);
    return result.data;
  },
  async post(todo) {
    const result = await axios.post(ENDPOINT_URL, todo);
    return result.data;
  },
  async delete(todo) {
    const result = await axios.delete(`${ENDPOINT_URL}/${todo.id}`);
    return result.data;
  },
  async patch(todo) {
    const result = await axios.patch(`${ENDPOINT_URL}/${todo.id}`, todo);
    return result.data;
  },
}

```
- エンドポイントのURL（リソースの場所）を用意して、それに対して行いたい処理をHTTPメソッドと対応させてオブジェクトのメソッドとして記述していく
- こうすることで関数型の観点からも保守性の高いコードになる
  - 状態と処理の分離＝コンポーネント部分とリクエスト処理部分の分離
- 基本的にはReactのstateとREST APIの管理しているデータ部分を同期させていく方針で実装を進めていく
