{"pageProps":{"issue":{"body":"","bodyHTML":"","active_lock_reason":null,"assignee":null,"assignees":[],"author_association":"OWNER","closed_at":null,"comments":0,"comments_url":"https://api.github.com/repos/youliangdao/diary/issues/18/comments","created_at":"2022-09-10T22:59:36Z","events_url":"https://api.github.com/repos/youliangdao/diary/issues/18/events","html_url":"https://github.com/youliangdao/diary/issues/18","id":1368749334,"labels":[],"labels_url":"https://api.github.com/repos/youliangdao/diary/issues/18/labels{/name}","locked":false,"milestone":null,"node_id":"I_kwDOH2O6185RlXUW","number":18,"performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/youliangdao/diary/issues/18/reactions"},"repository_url":"https://api.github.com/repos/youliangdao/diary","state":"open","state_reason":null,"timeline_url":"https://api.github.com/repos/youliangdao/diary/issues/18/timeline","title":"2022-09-11","updated_at":"2022-09-10T22:59:36Z","url":"https://api.github.com/repos/youliangdao/diary/issues/18","user":{"avatar_url":"https://avatars.githubusercontent.com/u/72332502?v=4","events_url":"https://api.github.com/users/youliangdao/events{/privacy}","followers_url":"https://api.github.com/users/youliangdao/followers","following_url":"https://api.github.com/users/youliangdao/following{/other_user}","gists_url":"https://api.github.com/users/youliangdao/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/youliangdao","id":72332502,"login":"youliangdao","node_id":"MDQ6VXNlcjcyMzMyNTAy","organizations_url":"https://api.github.com/users/youliangdao/orgs","received_events_url":"https://api.github.com/users/youliangdao/received_events","repos_url":"https://api.github.com/users/youliangdao/repos","site_admin":false,"starred_url":"https://api.github.com/users/youliangdao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/youliangdao/subscriptions","type":"User","url":"https://api.github.com/users/youliangdao"}},"issueComments":[{"body":"## AWS\n- インフラのスケールアウト\n  - ①Docker on EC2でRailsアプリのデプロイ\n    - これにCI/CDパイプライン構築\n    - 本番環境：ngix/pumma\n    - Capistrano\n    - https化など\n    - ここまでが基本ライン。資料が山ほど落ちてるのですぐ終わる気がする\n  - ②次にECS(Fargate)などと連携させる\n  - ③Terraformでインフラコード化\n    - プラスしてECR\n- ざっくりこんな感じかな。\n","bodyHTML":"<h2>AWS</h2>\n<ul>\n<li>インフラのスケールアウト\n<ul>\n<li>①Docker on EC2でRailsアプリのデプロイ\n<ul>\n<li>これにCI/CDパイプライン構築</li>\n<li>本番環境：ngix/pumma</li>\n<li>Capistrano</li>\n<li>https化など</li>\n<li>ここまでが基本ライン。資料が山ほど落ちてるのですぐ終わる気がする</li>\n</ul>\n</li>\n<li>②次にECS(Fargate)などと連携させる</li>\n<li>③Terraformでインフラコード化\n<ul>\n<li>プラスしてECR</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>ざっくりこんな感じかな。</li>\n</ul>","author_association":"OWNER","created_at":"2022-09-10T23:16:14Z","html_url":"https://github.com/youliangdao/diary/issues/18#issuecomment-1242818325","id":1242818325,"issue_url":"https://api.github.com/repos/youliangdao/diary/issues/18","node_id":"IC_kwDOH2O6185KE-cV","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/youliangdao/diary/issues/comments/1242818325/reactions"},"updated_at":"2022-09-10T23:16:14Z","url":"https://api.github.com/repos/youliangdao/diary/issues/comments/1242818325","user":{"avatar_url":"https://avatars.githubusercontent.com/u/72332502?v=4","events_url":"https://api.github.com/users/youliangdao/events{/privacy}","followers_url":"https://api.github.com/users/youliangdao/followers","following_url":"https://api.github.com/users/youliangdao/following{/other_user}","gists_url":"https://api.github.com/users/youliangdao/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/youliangdao","id":72332502,"login":"youliangdao","node_id":"MDQ6VXNlcjcyMzMyNTAy","organizations_url":"https://api.github.com/users/youliangdao/orgs","received_events_url":"https://api.github.com/users/youliangdao/received_events","repos_url":"https://api.github.com/users/youliangdao/repos","site_admin":false,"starred_url":"https://api.github.com/users/youliangdao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/youliangdao/subscriptions","type":"User","url":"https://api.github.com/users/youliangdao"}},{"body":"- CloudWatchでシステム監視\n  - EC2インスタンスのCPU使用率60%↑でアラーム発生\n  - システム監視は運用/保守性の観点で大切\n    - 平均障害復旧時間の引き上げにも関わってくるので\n  - CloudWatchはSNSと連携して運営者側に通知を送ってくれる\n- IAMでのアクセス権限の管理\n  - 基本的にポリシーを作成（or既存のポリシー利用）してIAMユーザーやグループ、ロールにアタッチしていく\n  - ベストプラクティスとしては\n    - グループでユーザーは管理\n    - 個々人にIAMユーザーを作成させて作業を行わせる\n    - 割り当てる権限は最小限に\n    - 特にEC2インスタンスから他のAWSサービス（S3）を利用する際はロールを使用して一時的な認証アクセスキーを利用\n    - 不要になった認証情報やIAMユーザーは削除\n- 一通り主要AWSサービスは扱えるようになった感あるのであとは徐々にスケールアウトさせていく\n  - ECS・ECRあたりの扱いはできるように\n  - あとはCLPとSSAをなんとか取りたいなぁ。SSAは就活中になるかも\n","bodyHTML":"<ul>\n<li>CloudWatchでシステム監視\n<ul>\n<li>EC2インスタンスのCPU使用率60%↑でアラーム発生</li>\n<li>システム監視は運用/保守性の観点で大切\n<ul>\n<li>平均障害復旧時間の引き上げにも関わってくるので</li>\n</ul>\n</li>\n<li>CloudWatchはSNSと連携して運営者側に通知を送ってくれる</li>\n</ul>\n</li>\n<li>IAMでのアクセス権限の管理\n<ul>\n<li>基本的にポリシーを作成（or既存のポリシー利用）してIAMユーザーやグループ、ロールにアタッチしていく</li>\n<li>ベストプラクティスとしては\n<ul>\n<li>グループでユーザーは管理</li>\n<li>個々人にIAMユーザーを作成させて作業を行わせる</li>\n<li>割り当てる権限は最小限に</li>\n<li>特にEC2インスタンスから他のAWSサービス（S3）を利用する際はロールを使用して一時的な認証アクセスキーを利用</li>\n<li>不要になった認証情報やIAMユーザーは削除</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>一通り主要AWSサービスは扱えるようになった感あるのであとは徐々にスケールアウトさせていく\n<ul>\n<li>ECS・ECRあたりの扱いはできるように</li>\n<li>あとはCLPとSSAをなんとか取りたいなぁ。SSAは就活中になるかも</li>\n</ul>\n</li>\n</ul>","author_association":"OWNER","created_at":"2022-09-11T03:02:27Z","html_url":"https://github.com/youliangdao/diary/issues/18#issuecomment-1242874530","id":1242874530,"issue_url":"https://api.github.com/repos/youliangdao/diary/issues/18","node_id":"IC_kwDOH2O6185KFMKi","performed_via_github_app":null,"reactions":{"+1":0,"-1":0,"confused":0,"eyes":0,"heart":0,"hooray":0,"laugh":0,"rocket":0,"total_count":0,"url":"https://api.github.com/repos/youliangdao/diary/issues/comments/1242874530/reactions"},"updated_at":"2022-09-11T03:02:27Z","url":"https://api.github.com/repos/youliangdao/diary/issues/comments/1242874530","user":{"avatar_url":"https://avatars.githubusercontent.com/u/72332502?v=4","events_url":"https://api.github.com/users/youliangdao/events{/privacy}","followers_url":"https://api.github.com/users/youliangdao/followers","following_url":"https://api.github.com/users/youliangdao/following{/other_user}","gists_url":"https://api.github.com/users/youliangdao/gists{/gist_id}","gravatar_id":"","html_url":"https://github.com/youliangdao","id":72332502,"login":"youliangdao","node_id":"MDQ6VXNlcjcyMzMyNTAy","organizations_url":"https://api.github.com/users/youliangdao/orgs","received_events_url":"https://api.github.com/users/youliangdao/received_events","repos_url":"https://api.github.com/users/youliangdao/repos","site_admin":false,"starred_url":"https://api.github.com/users/youliangdao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/youliangdao/subscriptions","type":"User","url":"https://api.github.com/users/youliangdao"}}]},"__N_SSG":true}